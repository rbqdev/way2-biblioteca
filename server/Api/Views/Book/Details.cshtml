@{
    Layout = "~/Views/Layout/_mainLayout.cshtml";
}

@section Styles {
    <link href="@Url.Content("~/Content/css/StarRatings.css")" rel="stylesheet" Content-Type="text/css" />
}

@model Domain.Responses.BookResponse
<div class="container">
    <div class="col">
        <h2>
            @Model.Title
            @if (!String.IsNullOrWhiteSpace(Model.Language?.Name))
            {
                <small>(@Model.Language)</small>
            }
        </h2>
        @if (Model.Authors != null)
        {
            <h3><small class="text-muted">@String.Join(',', Model.Authors?.Select(author => author.Name))</small></h3>
        }
    </div>
    <div class="row">
        <div class="col-md-3">
            <div class=" d-flex justify-content-center">
                <img src="@Model.ImageUrl" style="height: 300px" />
            </div>
            <div class=" d-flex justify-content-center">
                <div class="ratings" style="font-size: 25pt;">
                    <div class="empty-stars"></div>
                    <div class="full-stars" style="width:@Model.AverageRating%"></div>
                </div>
            </div>
            <div class=" d-flex justify-content-center">
                <small>@Model.RatingCount reviews (Goodreads)</small>
            </div>
        </div>
        <div class="col-md-9">
            <p style="text-align: justify">@Model.Description</p>

            <h4>Detalhes:</h4>
            <dl class="row">
                <dt class="col-sm-2">Publicação</dt>
                <dd class="col-sm-10">@Model.PublicationDate.ToString("dd/MM/yyyy")</dd>

                <dt class="col-sm-2">ISBN</dt>
                <dd class="col-sm-10">@Model.ISBN13</dd>

                <dt class="col-sm-2">Editora</dt>
                <dd class="col-sm-10">@Model.Publisher</dd>

                <dt class="col-sm-2">Páginas</dt>
                <dd class="col-sm-10">@Model.NumberOfPages</dd>

                @if (Model.Categories != null)
                {

                    <dt class="col-sm-2">Categorias</dt>
                    <dd class="col-sm-10">@String.Join(',', Model.Categories?.Select(category => category.Name))</dd>
                }
            </dl>
        </div>
    </div>
</div>